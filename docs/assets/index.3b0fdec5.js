import{A as Y,r as c,j as e,a as l,d as y,c as N,F as w,l as R,b as I,e as q,R as C,f as W,T as B,C as G}from"./vendor.e1af3b5d.js";const J=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}};J();const b={renewed:"r",finished:"f",canceled:"c",unknown:""},$=Object.keys(b),M={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7,Binge:8},H=Object.keys(M),K={type:"array",items:{type:"object",properties:{date:{type:"string"},text:{type:"string"}},required:[]}},O=new Y,E=O.compile(K),V={type:"array",items:{type:"object",properties:{name:{type:"string"},imdb:{type:"string",nullable:!0},genre:{type:"string",nullable:!0},status:{type:"string",nullable:!0,enum:$},statusUncertain:{type:"boolean",nullable:!0},studio:{type:"string",nullable:!0},page:{type:"object",properties:{title:{type:"string",nullable:!0},link:{type:"string",nullable:!0}},nullable:!0,required:[]},seasons:{type:"array",items:{type:"object",properties:{num:{type:"integer"},days:{type:"array",items:{type:"string",enum:H}},studio:{type:"string",nullable:!0},page:{type:"object",properties:{title:{type:"string",nullable:!0},link:{type:"string",nullable:!0}},nullable:!0,required:[]},runningPeriods:{type:"array",items:{type:"object",properties:{startDate:{type:"string",nullable:!0},startDateUncertain:{type:"boolean",nullable:!0},endDate:{type:"string",nullable:!0},endDateUncertain:{type:"boolean",nullable:!0}},required:[]}}},required:[]}}},required:[],additionalProperties:!1}},F=O.compile(V);function z({data:r}){const[a,i]=c.exports.useState();return c.exports.useEffect(()=>{r.sort((t,n)=>!t.days||!t.days.length?1:!n.days||!n.days.length?-1:M[t.days[0]]-M[n.days[0]]),i(r)},r),e("div",{children:l("table",{children:[e("thead",{children:l("tr",{children:[e("td",{width:"225",children:e("strong",{children:"On Now:"})}),e("td",{width:"80",children:e("strong",{children:"Day"})}),e("td",{width:"115",children:e("strong",{children:"Official Page"})}),e("td",{width:"190",children:e("strong",{children:"Genre"})}),e("td",{width:"23",children:e("strong",{children:"S"})}),e("td",{width:"110",children:e("strong",{children:"Hiatus"})})]})}),e("tbody",{children:a&&a.map(t=>{var n,s,d,u;return l("tr",{children:[e("td",{children:t.imdb?e("a",{href:t.imdb,target:"_blank",children:t.name}):t.name}),e("td",{children:t.days?t.days.join(", "):"Unknown"}),e("td",{children:(n=t.page)!=null&&n.link?e("a",{href:(s=t.page)==null?void 0:s.link,target:"_blank",children:(d=t.page)==null?void 0:d.title}):(u=t.page)==null?void 0:u.title}),e("td",{children:t.genre}),e("td",{children:t.season}),l("td",{children:[t.endDate&&y(Date.parse(t.endDate)).format("MMM.D")," ",b[t.status]?`(${b[t.status]})`:""]})]},t.name)})})]})})}function Q({data:r}){const[a,i]=c.exports.useState();return c.exports.useEffect(()=>{r.sort((t,n)=>Date.parse(n.finale)-Date.parse(t.finale)),i(r)},r),e("div",{children:l("table",{children:[e("thead",{children:l("tr",{children:[e("td",{width:"225",children:e("strong",{children:"Past shows:"})}),e("td",{width:"80",children:e("strong",{children:"Status"})}),e("td",{width:"115",children:e("strong",{children:"Station"})}),e("td",{width:"190",children:e("strong",{children:"Genre"})}),e("td",{width:"23",children:e("strong",{children:"S"})}),e("td",{width:"110",children:e("strong",{children:"Finale"})})]})}),e("tbody",{children:a&&a.map(t=>{var n,s,d,u;return l("tr",{children:[e("td",{children:t.imdb?e("a",{href:t.imdb,target:"_blank",children:t.name}):t.name}),e("td",{children:t.status}),e("td",{children:(n=t.page)!=null&&n.link?e("a",{href:(s=t.page)==null?void 0:s.link,target:"_blank",children:(d=t.page)==null?void 0:d.title}):(u=t.page)==null?void 0:u.title}),e("td",{children:t.genre}),e("td",{children:t.nbSeasons}),e("td",{children:t.finale&&y(Date.parse(t.finale)).format("MMM.D YYYY")})]},t.name)})})]})})}const X="https://raw.githubusercontent.com/genretv/data/main/main/updateLog.json",Z=N({update:{}});async function ee(){const r=window.localStorage.getItem("logUrl")||X,a=await fetch(r);return a.ok?await a.json():[a.statusText]}function te({}){var s,d;const[r,a]=c.exports.useState(),[i,t]=c.exports.useState(),n=Z();return c.exports.useEffect(()=>{(async()=>{const u=await ee();E(u)?a(u):t(E.errors)})()},[]),l("div",{children:[r&&r.length>0&&l("p",{children:[l("strong",{children:["Updated ",(s=r[0])==null?void 0:s.date,": "]}),(d=r[0])==null?void 0:d.text]}),i&&i.length>0&&e("p",{children:JSON.stringify(i)}),l("p",{className:n.update,children:["Start dates for every sci-fi/fantasy shows so none of us miss the first episode of our favorite shows or new shows. I try to keep this list fairly up-to-date so that everyone can see at a glance what shows are currently running and what shows will be starting soon. Title links go to IMDb pages when they exist. If I am missing something, please let me know in the comments.",e("br",{}),"(r) = renewed, (c) = canceled, (f) = final season, (rf) = renewed for final season, (m) = moving to new channel",e("br",{}),"S = Current, Upcoming or Total Season #. (0 = Pilot only, h = season on hiatus)"]})]})}function f(r){const a=new Date;if(r==="summer"){const i=a.getMonth()<7?a.getFullYear():a.getFullYear()+1;return"September 21, "+i.toString()}else if(r==="fall"){const i=a.getMonth()<10?a.getFullYear():a.getFullYear()+1;return"December 21, "+i.toString()}else{if(r==="winter")return"March 21, "+(a.getFullYear()+1).toString();if(r==="spring"){const i=a.getMonth()<4?a.getFullYear():a.getFullYear()+1;return"June 21, "+i.toString()}else if(parseInt(r).toString()===r)return"December 31, "+r}return r}function ne({data:r}){const[a,i]=c.exports.useState();return c.exports.useEffect(()=>{r.sort((t,n)=>t.startDate?n.startDate?new Date(f(t.startDate))<new Date(f(n.startDate))?-1:1:-1:1),i(r)},r),e("div",{children:l("table",{children:[e("thead",{children:l("tr",{children:[e("td",{width:"225",children:e("strong",{children:"Upcoming:"})}),e("td",{width:"80",children:e("strong",{children:"When"})}),e("td",{width:"115",children:e("strong",{children:"Official Page"})}),e("td",{width:"190",children:e("strong",{children:"Genre"})}),e("td",{width:"23",children:e("strong",{children:"S"})}),e("td",{width:"110",children:e("strong",{children:"Hiatus"})})]})}),e("tbody",{children:a&&a.map(t=>{var n,s,d,u,D,h;return l("tr",{children:[e("td",{children:t.imdb?e("a",{href:t.imdb,target:"_blank",children:t.name}):t.name}),l("td",{children:[t.startDate&&f(t.startDate)===t.startDate?y(Date.parse(f(t.startDate))).format("MMM.D"):(((n=t.startDate)==null?void 0:n.charAt(0).toUpperCase())||"")+((s=t.startDate)==null?void 0:s.slice(1)),t.startDateUncertain?"?":""]}),e("td",{children:(d=t.page)!=null&&d.link?e("a",{href:(u=t.page)==null?void 0:u.link,target:"_blank",children:(D=t.page)==null?void 0:D.title}):(h=t.page)==null?void 0:h.title}),e("td",{children:t.genre}),e("td",{children:t.season}),l("td",{children:[t.endDate&&y(Date.parse(t.endDate)).format("MMM.D")," ",b[t.status]?`(${b[t.status]})`:""]})]},t.name)})})]})})}const re="https://raw.githubusercontent.com/genretv/data/main/main/data.json",ae=N({app:{marginTop:"4em"},header:{background:"#333333 url(https://www.blogblog.com/1kt/transparent/header_gradient_shade.png) repeat-x scroll top left",padding:"1em",color:"white",borderRadius:"1em"},spacer:{margin:"1em 0"},main:{},mainbox:{border:"solid 1px #dddddd",borderRadius:"10px",padding:"15px 20px",backgroundColor:"white",maxWidth:"970px",margin:"30px auto"},maintable:{}});async function se(){const r=window.localStorage.getItem("dataUrls"),a=r?JSON.parse(r):[re],i={};for(const t of a){const n=await fetch(t);if(n.ok){const s=await n.json();for(const d of s)d.name in i?R.exports.merge(i[d.name],d):i[d.name]=d}else return[n.statusText]}return Object.values(i)}function ie(){const r=ae(),[a,i]=c.exports.useState(),[t,n]=c.exports.useState(),[s,d]=c.exports.useState(),[u,D]=c.exports.useState(),[h,_]=c.exports.useState();return c.exports.useEffect(()=>{(async()=>{const m=await se();F(m)?D(m):_(F.errors)})()},[]),c.exports.useEffect(()=>{var T;const m=[],j=[],P=[],S=new Date,L=y().add(-1,"month");if(u){for(const o of u){const U=o.seasons.slice(-1)[0].runningPeriods.slice(-1)[0].endDate||"";if((o.status==="canceled"||o.status==="finished")&&U&&new Date(U)<S){P.push({genre:o.genre,name:o.name,page:o.page,imdb:o.imdb,status:o.status,statusUncertain:o.statusUncertain,nbSeasons:o.seasons.length,studio:(T=o.seasons[0])==null?void 0:T.studio,finale:U});continue}let x,v;for(const p of o.seasons)if(p.runningPeriods)for(const g of p.runningPeriods){const k=new Date(f(g.startDate)),A=g.endDate?new Date(g.endDate):void 0;if(k<=S&&(!p.days||p.days[0]!=="Binge"||k>=L.toDate())&&(!A||S<=A)){x={days:p.days,genre:o.genre,name:o.name,page:p.page,imdb:o.imdb,status:o.status,statusUncertain:o.statusUncertain,season:p.num,studio:p.studio,startDate:g.startDate,endDate:g.endDate,startDateUncertain:g.startDateUncertain,endDateUncertain:g.endDateUncertain};break}else k>=S&&(v={genre:o.genre,name:o.name,page:p.page,imdb:o.imdb,status:o.status,statusUncertain:o.statusUncertain,season:p.num,studio:p.studio,startDate:g.startDate,endDate:g.endDate,startDateUncertain:g.startDateUncertain,endDateUncertain:g.endDateUncertain})}x?m.push(x):v&&j.push(v)}i(m),n(j),d(P)}},[u]),e("div",{className:r.app,children:l("div",{className:r.mainbox,children:[l("header",{className:r.header,children:[e("div",{children:e("h1",{children:"Fantasy/Sci-Fi TV Show Start Dates 2021-22"})}),e("div",{children:e("p",{children:e("span",{children:"Premiere and Finale dates for all current and upcoming genre tv shows."})})})]}),e("main",{children:l("div",{className:r.main,children:[e(te,{}),h&&h.length>0&&e("p",{children:JSON.stringify(h)}),l("div",{className:r.maintable,children:[a&&a.length>0&&e(w,{children:e(z,{data:a})}),t&&t.length>0&&l(w,{children:[e("hr",{className:r.spacer}),e(ne,{data:t})]}),s&&s.length>0&&l(w,{children:[e("hr",{className:r.spacer}),e(Q,{data:s})]})]})]})})]})})}const de=I({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:q.A400}}});C.render(e(W.StrictMode,{children:l(B,{theme:de,children:[e(G,{}),e(ie,{})]})}),document.getElementById("root"));
